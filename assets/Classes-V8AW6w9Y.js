import{f as m,g as O,o as u,c as d,u as e,t as o,h as c,d as r,F as b,i as k,e as F,j as S,v as L,k as B}from"./app-DSdGggIE.js";import{_ as q}from"./plugin-vue_export-helper-DlAUqK2U.js";const G=r("h2",null,"Class",-1),I={key:0},J={class:"container"},K={key:0},Q={key:1,class:"list"},W={class:"ul-empty"},X=["id","value"],Y=["for"],Z=r("li",null,[r("span",null,"Приключенец (смешание двух классов):")],-1),$={class:"ul-empty"},tt=["id","value"],at=["for"],et={key:2,class:"list"},rt=r("p",null,"Вторая часть приключенца:",-1),lt={class:"ul-empty"},st=["id","value"],it=["for"],nt={key:1},ut={key:2},dt={key:3},ot=r("th",null,"Lvl",-1),ct=r("th",null,"HD",-1),pt=r("th",null,"Attack Bonus",-1),ht=r("th",null,"Foci",-1),mt={key:0},_t={key:0},ft={key:1},bt={key:0},wt={key:0},yt={key:1},kt=r("thead",null,[r("tr",null,[r("th",null,"Lvl"),r("th",null,"Max Spell Level"),r("th",null,"Spell Cast"),r("th",null,"Spell Prepared")])],-1),gt={__name:"Classes",props:["race"],setup(H){const v=[{id:"niziel",classes:["warrior","expert","mage","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"ferori",classes:["warrior","expert","mage","necromancer","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"nerland",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-orc",forcedClass:["partial-accursed"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-elf",classes:["warrior","expert","elementalist","partial-warrior","partial-duelist","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"halfling",forcedClass:["partial-empath"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"dwarf",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"dwarf-long",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"rat",forcedClass:["expert","partial-expert"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-beast","partial-necromancer"]},{id:"lizard",forcedClass:["partial-beast"],classes:["partial-warrior","partial-expert","partial-priest","partial-wise"]},{id:"gnome",forcedClass:["elementalist","partial-elementalist"],classes:["elementalist","partial-warrior","partial-expert","partial-duelist"]}],x=[{id:"warrior",title:"Воин",hd:2,ab:10},{id:"expert",title:"Эксперт",hd:0,ab:5},{id:"mage",title:"Кверанский арканист",spells:!0,hd:-1,ab:2,arts:["+2 Арканист","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист"]},{id:"elementalist",title:"Элементалист",spells:!0,hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист"]},{id:"necromancer",title:"Некромант",spells:!0,hd:-1,ab:2,arts:["+1 Некромант","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант"]},{id:"partial-warrior",partial:!0,title:"Воин",hd:2,ab:10,minAb:7},{id:"partial-expert",partial:!0,title:"Эксперт",hd:0,ab:5},{id:"partial-mage",partial:!0,spells:!0,title:"Кверанский арканист",hd:-1,ab:2,arts:["+1 Арканист","+1 Арканист","+1 Арканист","","","+1 Арканист","","","+1 Арканист",""]},{id:"partial-necromancer",partial:!0,spells:!0,title:"Некромант",hd:-1,ab:2,arts:["+1 Некромант","","+1 Некромант","","","+1 Некромант","","","+1 Некромант",""]},{id:"partial-elementalist",partial:!0,spells:!0,title:"Элементалист",hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","","+1 Элементалист","","","+1 Элементалист","","","+1 Элементалист",""]},{id:"partial-accursed",partial:!0,title:"Проклятый",hd:-1,ab:2,arts:["Accursed Blade или Accurded Bolt, +1 Проклятый","+1 Проклятый","","+1 Проклятый","+1 Проклятый","+1 Проклятый","","+1 Проклятый","","+1 Проклятый"]},{id:"partial-beast",partial:!0,title:"Зверь",hd:0,ab:5,arts:["Martial Style, Unarmed Might, Unarmed Defense, +1 Зверь","+1 Зверь","","+1 Зверь","+1 Зверь","+1 Зверь","","+1 Зверь","","+1 Зверь"]},{id:"partial-duelist",partial:!0,title:"Дуэлянт",hd:-1,ab:5,arts:["+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","","+1 Дуэлянт"]},{id:"partial-empath",partial:!0,title:"Эмпат",hd:0,ab:5,arts:["+1 Эмпат","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат"]},{id:"partial-priest",partial:!0,title:"Жрец",hd:-1,ab:2,arts:["+1 Жрец","+1 Жрец","","+1 Жрец","+1 Жрец","+1 Жрец","","+1 Жрец","","+1 Жрец"]},{id:"partial-rune-guardian",partial:!0,title:"Рунный защитник",hd:0,ab:10,minAb:7},{id:"partial-wise",partial:!0,title:"Ведун",hd:0,ab:5,arts:["+1 Ведун","+1 Ведун","","+1 Ведун","+1 Ведун","+1 Ведун","","+1 Ведун","","+1 Ведун"]}],V=H;let g=V.race,w=v.find(t=>t.id==g);const E=t=>{const a=t.forcedClass?t.forcedClass:t.classes;return x.filter(i=>a.includes(i.id))},R=t=>x.filter(a=>a.partial).filter(a=>t.classes.includes(a.id));let p=E(w),_=R(w),s=m(void 0),n=m(void 0);p[0]&&(s=m(p[0])),_[0]&&(n=m(_[0]));let U=v.map(t=>t.classes.concat(t.forcedClass)).reduce((t,a)=>t.concat(a),[]).filter(t=>!!t).filter(t=>!x.map(a=>a.id).includes(t)).filter((t,a,i)=>i.indexOf(t)==a).sort();O(V,t=>{g=t.race,w=v.find(a=>a.id==g),p=E(w),_=R(w),p[0]?s=m(p[0]):s=m(void 0),_[0]?n=m(_[0]):n=m(void 0)});const A=(t,a)=>!!t&&(!(t!=null&&t.partial)||(t==null?void 0:t.partial)&&(a==null?void 0:a.partial)&&t.id!==a.id),M=(t,a)=>t?t.partial?Math.max(t.hd,a.hd):t.hd:0,N=(t,a)=>{if(!t)return 0;if(!t.partial||t.ab==a.ab)return t.ab;const i=Math.max(t.minAb?t.minAb:t.ab,a.minAb?a.minAb:a.ab),f=Math.max(t.ab,a.ab);return Math.min(i,f)},P=(t,a,i)=>{if(!(a!=null&&a.arts)&&(!a.partial||!(i!=null&&i.arts)))return"";if(!a.partial)return a.arts[t-1];if(!a.arts)return i.arts[t-1];if(!i.arts)return a.arts[t-1];const f=a.arts[t-1],y=i.arts[t-1],C=f.length>0&&y.length>0?", ":"";return f+C+y},z=(t,a,i)=>Math.max(1,Math.round((a.partial?a.spells&&i.spells?3.8:3:5)*t/10)),T=(t,a,i)=>t==3&&(a!=null&&a.spells)&&(i!=null&&i.spells)?2:t==6&&(a==null?void 0:a.spells)!==(i==null?void 0:i.spells)?3:Math.max(1,Math.round((a.partial?a.spells&&i.spells?4.9:4:5.5)*t/10)),j=(t,a,i)=>{if(!a.partial)switch(t){case 1:return 3;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 12}if(a!=null&&a.spells&&(i!=null&&i.spells))switch(t){case 1:return 3;case 2:return 4;case 3:return 5;case 4:return 6;case 5:return 8;case 6:return 9;case 7:return 10;case 8:return 12;case 9:return 13;case 10:return 15}switch(t){case 1:return 2;case 2:return 3;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 7;case 9:return 8;case 10:return 9}return 0};return(t,a)=>{var i,f,y,C,D;return u(),d(b,null,[G,e(U).length>0?(u(),d("div",I," He хватает описания классов: "+o(e(U)),1)):c("",!0),r("div",J,[e(p).length?c("",!0):(u(),d("div",K," Нет классов для выбранной культуры "+o(e(g))+". ",1)),e(p).length?(u(),d("div",Q,[r("ul",W,[(u(!0),d(b,null,k(e(p).filter(l=>!l.partial),l=>(u(),d("li",{key:l.id},[S(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":a[0]||(a[0]=h=>B(s)?s.value=h:s=h)},null,8,X),[[L,e(s)]]),r("label",{for:l.id},o(l.title),9,Y)]))),128)),Z,r("li",null,[r("ul",$,[(u(!0),d(b,null,k(e(p).filter(l=>l.partial),l=>(u(),d("li",{key:l.id},[S(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":a[1]||(a[1]=h=>B(s)?s.value=h:s=h)},null,8,tt),[[L,e(s)]]),r("label",{for:l.id},o(l.title),9,at)]))),128))])])])])):c("",!0),e(_).length&&((i=e(s))!=null&&i.partial)?(u(),d("div",et,[rt,r("ul",lt,[(u(!0),d(b,null,k(e(_).filter(l=>l.id!=e(s).id),l=>(u(),d("li",{key:l.id},[S(r("input",{type:"radio",id:l.id+2,value:l,"onUpdate:modelValue":a[2]||(a[2]=h=>B(n)?n.value=h:n=h)},null,8,st),[[L,e(n)]]),r("label",{for:l.id+2},"+"+o(l.title),9,it)]))),128))])])):c("",!0)]),e(s)&&A(e(s),e(n))?(u(),d("div",nt,[r("h3",null,o(e(s).title),1),F(" описание ")])):c("",!0),e(n)&&e(s).partial&&A(e(s),e(n))?(u(),d("div",ut,[r("h3",null,o(e(n).title),1),F(" описание ")])):c("",!0),A(e(s),e(n))?(u(),d("div",dt,[r("h3",null,o(e(s).title)+o(e(s).partial&&e(n)?"/"+e(n).title:"")+" class table",1),r("table",null,[r("thead",null,[r("tr",null,[ot,ct,pt,ht,e(s).arts||e(n).arts?(u(),d("th",mt,"Arts")):c("",!0)])]),r("tbody",null,[(u(),d(b,null,k(10,l=>r("tr",{key:l},[r("td",null,o(l),1),r("td",null,o(l)+"d6"+o(M(e(s),e(n))==0?"":(M(e(s),e(n))>0?"+":"")+l*M(e(s),e(n))),1),r("td",null,"+"+o(Math.floor(N(e(s),e(n))*l/10)),1),r("td",null,[l==1?(u(),d("span",_t,"Race Focus, ")):c("",!0),l==1||l==2||l==5||l==7||l==10?(u(),d("span",ft,"+1 Any")):c("",!0)]),e(s).arts||e(n).arts?(u(),d("td",bt,[r("span",null,o(P(l,e(s),e(n))),1)])):c("",!0)])),64))])]),(f=e(s))!=null&&f.spells||(y=e(n))!=null&&y.spells?(u(),d("h4",wt,o(e(s).title)+o(e(s).partial&&e(n)?"/"+e(n).title:"")+" spells table",1)):c("",!0),(C=e(s))!=null&&C.spells||(D=e(n))!=null&&D.spells?(u(),d("table",yt,[kt,r("tbody",null,[(u(),d(b,null,k(10,l=>r("tr",{key:l},[r("td",null,o(l),1),r("td",null,o(z(l,e(s),e(n))),1),r("td",null,o(T(l,e(s),e(n))),1),r("td",null,o(j(l,e(s),e(n))),1)])),64))])])):c("",!0)])):c("",!0)],64)}}},xt=q(gt,[["__file","Classes.vue"]]);export{xt as default};
