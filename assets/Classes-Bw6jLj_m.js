import{f as g,g as q,o as u,c as d,u as e,t as o,h as p,d as r,F as m,i as w,e as N,j as S,v as L,k as B}from"./app-DFVCva3n.js";import{_ as G}from"./plugin-vue_export-helper-DlAUqK2U.js";const I=r("h2",null,"Class",-1),J={key:0},K={class:"container"},Q={key:0},W={key:1,class:"list"},X={class:"ul-empty"},Y=["id","value"],Z=["for"],tt=r("li",null,[r("span",null,"Приключенец (смешание двух классов):")],-1),at={class:"ul-empty"},et=["id","value"],rt=["for"],lt={key:2,class:"list"},it=r("p",null,"Вторая часть приключенца:",-1),st={class:"ul-empty"},nt=["id","value"],ut=["for"],dt={key:1},ot={key:2},ct={key:3},pt=r("th",null,"Lvl",-1),ht=r("th",null,"HD",-1),mt=r("th",null,"Attack Bonus",-1),ft=r("th",null,"Foci",-1),_t={key:0},bt={key:0},wt={key:1},kt={key:0},yt={key:0},gt={key:1},vt=r("thead",null,[r("tr",null,[r("th",null,"Lvl"),r("th",null,"Max Spell Level"),r("th",null,"Spell Cast"),r("th",null,"Spell Prepared")])],-1),Ct={__name:"Classes",props:["race"],setup(P){const v=[{id:"niziel",classes:["warrior","expert","mage","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"ferori",classes:["warrior","expert","mage","necromancer","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"nerland",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-orc",forcedClass:["partial-accursed"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-elf",classes:["warrior","expert","elementalist","partial-warrior","partial-duelist","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"halfling",forcedClass:["partial-empath"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"dwarf",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"dwarf-long",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"rat",forcedClass:["expert","partial-expert"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-beast","partial-necromancer"]},{id:"lizard",forcedClass:["partial-beast"],classes:["partial-warrior","partial-expert","partial-priest","partial-wise"]},{id:"gnome",forcedClass:["elementalist","partial-elementalist"],classes:["elementalist","partial-warrior","partial-expert","partial-duelist"]}],C=[{id:"warrior",title:"Воин",hd:2,ab:10},{id:"expert",title:"Эксперт",hd:0,ab:5},{id:"mage",title:"Кверанский арканист",spells:!0,hd:-1,ab:2,arts:["+2 Арканист","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист"]},{id:"elementalist",title:"Элементалист",spells:!0,hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист"]},{id:"necromancer",title:"Некромант",spells:!0,hd:-1,ab:2,arts:["+1 Некромант","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант"]},{id:"partial-warrior",partial:!0,title:"Воин",hd:2,ab:10,minAb:7},{id:"partial-expert",partial:!0,title:"Эксперт",hd:0,ab:5},{id:"partial-mage",partial:!0,spells:!0,title:"Кверанский арканист",hd:-1,ab:2,arts:["+1 Арканист","+1 Арканист","+1 Арканист","","","+1 Арканист","","","+1 Арканист",""]},{id:"partial-necromancer",partial:!0,spells:!0,title:"Некромант",hd:-1,ab:2,arts:["+1 Некромант","","+1 Некромант","","","+1 Некромант","","","+1 Некромант",""]},{id:"partial-elementalist",partial:!0,spells:!0,title:"Элементалист",hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","","+1 Элементалист","","","+1 Элементалист","","","+1 Элементалист",""]},{id:"partial-accursed",partial:!0,title:"Проклятый",hd:-1,ab:2,arts:["Accursed Blade или Accurded Bolt, +1 Проклятый","+1 Проклятый","","+1 Проклятый","+1 Проклятый","+1 Проклятый","","+1 Проклятый","","+1 Проклятый"]},{id:"partial-beast",partial:!0,title:"Зверь",hd:0,ab:5,arts:["Martial Style, Unarmed Might, Unarmed Defense, +1 Зверь","+1 Зверь","","+1 Зверь","+1 Зверь","+1 Зверь","","+1 Зверь","","+1 Зверь"]},{id:"partial-duelist",partial:!0,title:"Дуэлянт",hd:-1,ab:5,arts:["+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","","+1 Дуэлянт"]},{id:"partial-empath",partial:!0,title:"Эмпат",hd:0,ab:5,arts:["+1 Эмпат","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат"]},{id:"partial-priest",partial:!0,title:"Жрец",hd:-1,ab:2,arts:["+1 Жрец","+1 Жрец","","+1 Жрец","+1 Жрец","+1 Жрец","","+1 Жрец","","+1 Жрец"]},{id:"partial-rune-guardian",partial:!0,title:"Рунный защитник",hd:0,ab:10,minAb:7},{id:"partial-wise",partial:!0,title:"Ведун",hd:0,ab:5,arts:["+1 Ведун","+1 Ведун","","+1 Ведун","+1 Ведун","+1 Ведун","","+1 Ведун","","+1 Ведун"]}],V=P;let k=V.race,f=v.find(a=>a.id==k);const E=a=>{const t=a.forcedClass?a.forcedClass:a.classes;return C.filter(s=>t.includes(s.id))},R=a=>C.filter(t=>t.partial).filter(t=>a.classes.includes(t.id));let _=E(f),x=R(f),i=g(void 0),n=g(void 0),U=v.map(a=>a.classes.concat(a.forcedClass)).reduce((a,t)=>a.concat(t),[]).filter(a=>!!a).filter(a=>!C.map(t=>t.id).includes(a)).filter((a,t,s)=>s.indexOf(a)==t).sort();q(V,a=>{k=a.race,f=v.find(t=>t.id==k),_=E(f),x=R(f),i=g(void 0),n=g(void 0)});const A=(a,t)=>!!a&&(!(a!=null&&a.partial)||(a==null?void 0:a.partial)&&(t==null?void 0:t.partial)&&a.id!==t.id),M=(a,t)=>a?a.partial?Math.max(a.hd,t.hd):a.hd:0,$=(a,t)=>{if(!a)return 0;if(!a.partial||a.ab==t.ab)return a.ab;const s=Math.max(a.minAb?a.minAb:a.ab,t.minAb?t.minAb:t.ab),h=Math.max(a.ab,t.ab);return Math.min(s,h)},z=(a,t,s)=>{if(!(t!=null&&t.arts)&&(!t.partial||!(s!=null&&s.arts)))return"";if(!t.partial)return t.arts[a-1];if(!t.arts)return s.arts[a-1];if(!s.arts)return t.arts[a-1];const h=t.arts[a-1],b=s.arts[a-1],y=h.length>0&&b.length>0?", ":"";return h+y+b},T=(a,t,s)=>Math.max(1,Math.round((t.partial?t.spells&&s.spells?3.8:3:5)*a/10)),j=(a,t,s)=>a==3&&(t!=null&&t.spells)&&(s!=null&&s.spells)?2:a==6&&(t==null?void 0:t.spells)!==(s==null?void 0:s.spells)?3:Math.max(1,Math.round((t.partial?t.spells&&s.spells?4.9:4:5.5)*a/10)),O=(a,t,s)=>{if(!t.partial)switch(a){case 1:return 3;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 12}if(t!=null&&t.spells&&(s!=null&&s.spells))switch(a){case 1:return 3;case 2:return 4;case 3:return 5;case 4:return 6;case 5:return 8;case 6:return 9;case 7:return 10;case 8:return 12;case 9:return 13;case 10:return 15}switch(a){case 1:return 2;case 2:return 3;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 7;case 9:return 8;case 10:return 9}return 0};return(a,t)=>{var s,h,b,y,D,F,H;return u(),d(m,null,[I,e(U).length>0?(u(),d("div",J," He хватает описания классов: "+o(e(U)),1)):p("",!0),r("div",K,[e(_).length?p("",!0):(u(),d("div",Q," Нет классов для выбранной культуры "+o(e(k))+". ",1)),e(_).length?(u(),d("div",W,[r("ul",X,[(u(!0),d(m,null,w(e(_).filter(l=>!l.partial),l=>(u(),d("li",{key:l.id},[S(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":[t[0]||(t[0]=c=>B(i)?i.value=c:i=c),t[1]||(t[1]=c=>a.$emit("picked1",e(i)))]},null,8,Y),[[L,e(i)]]),r("label",{for:l.id},o(l.title),9,Z)]))),128)),tt,r("li",null,[r("ul",at,[(u(!0),d(m,null,w(e(_).filter(l=>l.partial),l=>(u(),d("li",{key:l.id},[S(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":[t[2]||(t[2]=c=>B(i)?i.value=c:i=c),t[3]||(t[3]=c=>a.$emit("picked1",e(i)))]},null,8,et),[[L,e(i)]]),r("label",{for:l.id},o(l.title),9,rt)]))),128))])])])])):p("",!0),e(x).length&&((s=e(i))!=null&&s.partial)?(u(),d("div",lt,[it,r("ul",st,[(u(!0),d(m,null,w(e(x).filter(l=>l.id!=e(i).id),l=>(u(),d("li",{key:l.id},[S(r("input",{type:"radio",id:l.id+2,value:l,"onUpdate:modelValue":[t[4]||(t[4]=c=>B(n)?n.value=c:n=c),t[5]||(t[5]=c=>a.$emit("picked2",e(n)))]},null,8,nt),[[L,e(n)]]),r("label",{for:l.id+2},"+ "+o(l.title),9,ut)]))),128))])])):p("",!0)]),e(i)&&A(e(i),e(n))?(u(),d("div",dt,[r("h3",null,o(e(i).title),1),N(" описание ")])):p("",!0),e(n)&&e(i).partial&&A(e(i),e(n))?(u(),d("div",ot,[r("h3",null,o(e(n).title),1),N(" описание ")])):p("",!0),A(e(i),e(n))?(u(),d("div",ct,[r("h3",null,o(e(i).title)+o(e(i).partial&&e(n)?"/"+e(n).title:"")+" class table",1),r("table",null,[r("thead",null,[r("tr",null,[pt,ht,mt,ft,e(i).arts||(h=e(n))!=null&&h.arts?(u(),d("th",_t,"Arts")):p("",!0)])]),r("tbody",null,[(u(),d(m,null,w(10,l=>{var c;return r("tr",{key:l},[r("td",null,o(l),1),r("td",null,o(l)+"d6"+o(M(e(i),e(n))==0?"":(M(e(i),e(n))>0?"+":"")+l*M(e(i),e(n))),1),r("td",null,"+"+o(Math.floor($(e(i),e(n))*l/10)),1),r("td",null,[l==1?(u(),d("span",bt,"Race Focus, ")):p("",!0),l==1||l==2||l==5||l==7||l==10?(u(),d("span",wt,"+1 Any")):p("",!0)]),e(i).arts||(c=e(n))!=null&&c.arts?(u(),d("td",kt,[r("span",null,o(z(l,e(i),e(n))),1)])):p("",!0)])}),64))])]),(b=e(i))!=null&&b.spells||(y=e(n))!=null&&y.spells?(u(),d("h4",yt,o(e(i).title)+o(e(i).partial&&e(n)?"/"+((D=e(n))==null?void 0:D.title):"")+" spells table",1)):p("",!0),(F=e(i))!=null&&F.spells||(H=e(n))!=null&&H.spells?(u(),d("table",gt,[vt,r("tbody",null,[(u(),d(m,null,w(10,l=>r("tr",{key:l},[r("td",null,o(l),1),r("td",null,o(T(l,e(i),e(n))),1),r("td",null,o(j(l,e(i),e(n))),1),r("td",null,o(O(l,e(i),e(n))),1)])),64))])])):p("",!0)])):p("",!0)],64)}}},Mt=G(Ct,[["__file","Classes.vue"]]);export{Mt as default};
