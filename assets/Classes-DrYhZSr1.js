import{f as y,g as j,o as u,c,u as e,t as o,h as p,d as r,F as f,i as k,e as L,j as S,v as E,k as F}from"./app-C0iYHKPR.js";import{_ as G}from"./plugin-vue_export-helper-DlAUqK2U.js";const K=r("h2",null,"Class",-1),O={key:0},q={class:"container"},I={key:0},J={key:1,class:"list"},X={class:"ul-empty"},Y=["id","value"],Z=["for"],tt=r("li",null,[r("span",null,"Приключенец (смешание двух классов):")],-1),et={class:"ul-empty"},at=["id","value"],rt=["for"],lt={key:2,class:"list"},it=r("p",null,"Вторая часть приключенца:",-1),st={class:"ul-empty"},nt=["id","value"],ot=["for"],ut={key:1},ct={key:2},dt={key:3},pt=r("th",null,"Lvl",-1),ht=r("th",null,"HD",-1),ft=r("th",null,"Attack Bonus",-1),mt=r("th",null,"Foci",-1),_t={key:0},bt={key:0},kt={key:0},wt={key:1},gt={key:0},yt={key:0},vt={key:1},Ct=r("thead",null,[r("tr",null,[r("th",null,"Lvl"),r("th",null,"Max Spell Level"),r("th",null,"Spell Cast"),r("th",null,"Spell Prepared")])],-1),xt={__name:"Classes",props:["race"],setup(P){const v=[{id:"niziel",classes:["warrior","expert","mage","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"ferori",classes:["warrior","expert","mage","necromancer","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"nerland",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-orc",forcedClass:["partial-accursed"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-elf",classes:["warrior","expert","elementalist","partial-warrior","partial-duelist","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"halfling",forcedClass:["partial-empath"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"dwarf",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"dwarf-long",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"rat",forcedClass:["expert","partial-expert"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-beast","partial-necromancer"]},{id:"lizard",forcedClass:["partial-beast"],classes:["partial-warrior","partial-expert","partial-priest","partial-wise"]},{id:"gnome",forcedClass:["elementalist","partial-elementalist"],classes:["elementalist","partial-warrior","partial-expert","partial-duelist"]}],C=[{id:"warrior",title:"Воин",hd:2,ab:10,foci:"+1 Warrior Focus, Killing Blow, Veteran's Luck"},{id:"expert",title:"Эксперт",hd:0,ab:5,foci:"+1 Expert Focus, Masterful Expertise, Quick Learner"},{id:"mage",title:"Кверанский арканист",spells:!0,hd:-1,ab:2,arts:["+2 Арканист","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист"],foci:"Кверанский арканист"},{id:"elementalist",title:"Элементалист",spells:!0,hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист"],foci:"Элементалист"},{id:"necromancer",title:"Некромант",spells:!0,hd:-1,ab:2,arts:["+1 Некромант","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант"],foci:"Некромант"},{id:"partial-warrior",partial:!0,title:"Воин",hd:2,ab:10,minAb:7,foci:"+1 Warrior Focus"},{id:"partial-expert",partial:!0,title:"Эксперт",hd:0,ab:5,foci:"+1 Expert Focus, Quick Learner"},{id:"partial-mage",partial:!0,spells:!0,title:"Кверанский арканист",hd:-1,ab:2,arts:["+1 Арканист","+1 Арканист","+1 Арканист","","","+1 Арканист","","","+1 Арканист",""],foci:"Кверанский арканист"},{id:"partial-necromancer",partial:!0,spells:!0,title:"Некромант",hd:-1,ab:2,arts:["+1 Некромант","","+1 Некромант","","","+1 Некромант","","","+1 Некромант",""],foci:"Некромант"},{id:"partial-elementalist",partial:!0,spells:!0,title:"Элементалист",hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","","+1 Элементалист","","","+1 Элементалист","","","+1 Элементалист",""],foci:"Элементалист"},{id:"partial-accursed",partial:!0,title:"Проклятый",hd:-1,ab:2,arts:["Accursed Blade или Accurded Bolt, +1 Проклятый","+1 Проклятый","","+1 Проклятый","+1 Проклятый","+1 Проклятый","","+1 Проклятый","","+1 Проклятый"],foci:"Проклятый"},{id:"partial-beast",partial:!0,title:"Зверь",hd:0,ab:5,arts:["Martial Style, Unarmed Might, Unarmed Defense, +1 Зверь","+1 Зверь","","+1 Зверь","+1 Зверь","+1 Зверь","","+1 Зверь","","+1 Зверь"],foci:"Зверь"},{id:"partial-duelist",partial:!0,title:"Дуэлянт",hd:-1,ab:5,arts:["+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","","+1 Дуэлянт"],foci:"Дуэлянт"},{id:"partial-empath",partial:!0,title:"Эмпат",hd:0,ab:5,arts:["+1 Эмпат","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат"],foci:"Эмпат"},{id:"partial-priest",partial:!0,title:"Жрец",hd:-1,ab:2,arts:["+1 Жрец","+1 Жрец","","+1 Жрец","+1 Жрец","+1 Жрец","","+1 Жрец","","+1 Жрец"],foci:"+1 God's focus"},{id:"partial-rune-guardian",partial:!0,title:"Рунный защитник",hd:0,ab:10,minAb:7,foci:"Рунный защитник"},{id:"partial-wise",partial:!0,title:"Ведун",hd:0,ab:5,arts:["+1 Ведун","+1 Ведун","","+1 Ведун","+1 Ведун","+1 Ведун","","+1 Ведун","","+1 Ведун"],foci:"Ведун"}],B=P;let w=B.race,m=v.find(a=>a.id==w);const V=a=>{const t=a.forcedClass?a.forcedClass:a.classes;return C.filter(n=>t.includes(n.id))},R=a=>C.filter(t=>t.partial).filter(t=>a.classes.includes(t.id));let _=V(m),x=R(m),i=y(void 0),s=y(void 0),U=v.map(a=>a.classes.concat(a.forcedClass)).reduce((a,t)=>a.concat(t),[]).filter(a=>!!a).filter(a=>!C.map(t=>t.id).includes(a)).filter((a,t,n)=>n.indexOf(a)==t).sort();j(B,a=>{w=a.race,m=v.find(t=>t.id==w),_=V(m),x=R(m),i=y(void 0),s=y(void 0)});const A=(a,t)=>!!a&&(!(a!=null&&a.partial)||(a==null?void 0:a.partial)&&(t==null?void 0:t.partial)&&a.id!==t.id),M=(a,t)=>a?a.partial?Math.max(a.hd,t.hd):a.hd:0,$=(a,t)=>{if(!a)return 0;if(!a.partial||a.ab==t.ab)return a.ab;const n=Math.max(a.minAb?a.minAb:a.ab,t.minAb?t.minAb:t.ab),h=Math.max(a.ab,t.ab);return Math.min(n,h)},z=(a,t,n)=>{if(!(t!=null&&t.arts)&&(!t.partial||!(n!=null&&n.arts)))return"";if(!t.partial)return t.arts[a-1];if(!t.arts)return n.arts[a-1];if(!n.arts)return t.arts[a-1];const h=t.arts[a-1],b=n.arts[a-1],g=h.length>0&&b.length>0?", ":"";return h+g+b},Q=(a,t,n)=>Math.max(1,Math.round((t.partial?t.spells&&n.spells?3.8:3:5)*a/10)),T=(a,t,n)=>a==3&&(t!=null&&t.spells)&&(n!=null&&n.spells)?2:a==6&&(t==null?void 0:t.spells)!==(n==null?void 0:n.spells)?3:Math.max(1,Math.round((t.partial?t.spells&&n.spells?4.9:4:5.5)*a/10)),W=(a,t,n)=>{if(!t.partial)switch(a){case 1:return 3;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 12}if(t!=null&&t.spells&&(n!=null&&n.spells))switch(a){case 1:return 3;case 2:return 4;case 3:return 5;case 4:return 6;case 5:return 8;case 6:return 9;case 7:return 10;case 8:return 12;case 9:return 13;case 10:return 15}switch(a){case 1:return 2;case 2:return 3;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 7;case 9:return 8;case 10:return 9}return 0};return(a,t)=>{var n,h,b,g,D,H,N;return u(),c(f,null,[K,e(U).length>0?(u(),c("div",O," He хватает описания классов: "+o(e(U)),1)):p("",!0),r("div",q,[e(_).length?p("",!0):(u(),c("div",I," Нет классов для выбранной культуры "+o(e(w))+". ",1)),e(_).length?(u(),c("div",J,[r("ul",X,[(u(!0),c(f,null,k(e(_).filter(l=>!l.partial),l=>(u(),c("li",{key:l.id},[S(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":[t[0]||(t[0]=d=>F(i)?i.value=d:i=d),t[1]||(t[1]=d=>a.$emit("picked1",e(i)))]},null,8,Y),[[E,e(i)]]),r("label",{for:l.id},o(l.title),9,Z)]))),128)),tt,r("li",null,[r("ul",et,[(u(!0),c(f,null,k(e(_).filter(l=>l.partial),l=>(u(),c("li",{key:l.id},[S(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":[t[2]||(t[2]=d=>F(i)?i.value=d:i=d),t[3]||(t[3]=d=>a.$emit("picked1",e(i)))]},null,8,at),[[E,e(i)]]),r("label",{for:l.id},o(l.title),9,rt)]))),128))])])])])):p("",!0),e(x).length&&((n=e(i))!=null&&n.partial)?(u(),c("div",lt,[it,r("ul",st,[(u(!0),c(f,null,k(e(x).filter(l=>l.id!=e(i).id),l=>(u(),c("li",{key:l.id},[S(r("input",{type:"radio",id:l.id+2,value:l,"onUpdate:modelValue":[t[4]||(t[4]=d=>F(s)?s.value=d:s=d),t[5]||(t[5]=d=>a.$emit("picked2",e(s)))]},null,8,nt),[[E,e(s)]]),r("label",{for:l.id+2},"+ "+o(l.title),9,ot)]))),128))])])):p("",!0)]),e(i)&&A(e(i),e(s))?(u(),c("div",ut,[r("h3",null,o(e(i).title),1),L(" описание ")])):p("",!0),e(s)&&e(i).partial&&A(e(i),e(s))?(u(),c("div",ct,[r("h3",null,o(e(s).title),1),L(" описание ")])):p("",!0),A(e(i),e(s))?(u(),c("div",dt,[r("h3",null,o(e(i).title)+o(e(i).partial&&e(s)?"/"+e(s).title:"")+" class table",1),r("table",null,[r("thead",null,[r("tr",null,[pt,ht,ft,mt,e(i).arts||(h=e(s))!=null&&h.arts?(u(),c("th",_t,"Arts")):p("",!0)])]),r("tbody",null,[(u(),c(f,null,k(10,l=>{var d;return r("tr",{key:l},[r("td",null,o(l),1),r("td",null,o(l)+"d6"+o(M(e(i),e(s))==0?"":(M(e(i),e(s))>0?"+":"")+l*M(e(i),e(s))),1),r("td",null,"+"+o(Math.floor($(e(i),e(s))*l/10)),1),r("td",null,[l==1?(u(),c("span",bt,[L("Race Focus, "+o(e(i).foci)+o(e(i).foci.length>0?", ":""),1),e(i).partial?(u(),c("span",kt,o(e(s).foci)+o(e(s).foci.length>0?", ":""),1)):p("",!0)])):p("",!0),l==1||l==2||l==5||l==7||l==10?(u(),c("span",wt,"+1 Any")):p("",!0)]),e(i).arts||(d=e(s))!=null&&d.arts?(u(),c("td",gt,[r("span",null,o(z(l,e(i),e(s))),1)])):p("",!0)])}),64))])]),(b=e(i))!=null&&b.spells||(g=e(s))!=null&&g.spells?(u(),c("h4",yt,o(e(i).title)+o(e(i).partial&&e(s)?"/"+((D=e(s))==null?void 0:D.title):"")+" spells table",1)):p("",!0),(H=e(i))!=null&&H.spells||(N=e(s))!=null&&N.spells?(u(),c("table",vt,[Ct,r("tbody",null,[(u(),c(f,null,k(10,l=>r("tr",{key:l},[r("td",null,o(l),1),r("td",null,o(Q(l,e(i),e(s))),1),r("td",null,o(T(l,e(i),e(s))),1),r("td",null,o(W(l,e(i),e(s))),1)])),64))])])):p("",!0)])):p("",!0)],64)}}},Lt=G(xt,[["__file","Classes.vue"]]);export{Lt as default};
