import{f as g,g as j,o as u,c as o,u as a,t as d,h as p,d as r,F as m,i as k,e as N,j as L,v as S,k as E}from"./app-C78CE6EH.js";import{_ as K}from"./plugin-vue_export-helper-DlAUqK2U.js";const O=r("h2",null,"Class",-1),q={key:0},G={class:"container"},I={key:0},J={key:1,class:"list"},X={class:"ul-empty"},Y=["id","value"],Z=["for"],tt=r("li",null,[r("span",null,"Приключенец (смешание двух классов):")],-1),et={class:"ul-empty"},at=["id","value"],rt=["for"],lt={key:2,class:"list"},it=r("p",null,"Вторая часть приключенца:",-1),st={class:"ul-empty"},nt=["id","value"],ut=["for"],ot={key:1},dt={key:2},ct={key:3},pt=r("th",null,"Lvl",-1),ht=r("th",null,"HD",-1),mt=r("th",null,"Attack Bonus",-1),ft=r("th",null,"Foci",-1),_t={key:0},bt={key:0},kt={key:1},wt={key:0},yt={key:0},gt={key:1},vt=r("thead",null,[r("tr",null,[r("th",null,"Lvl"),r("th",null,"Max Spell Level"),r("th",null,"Spell Cast"),r("th",null,"Spell Prepared")])],-1),Ct={__name:"Classes",props:["race"],setup(P){const v=[{id:"niziel",classes:["warrior","expert","mage","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"ferori",classes:["warrior","expert","mage","necromancer","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer"]},{id:"nerland",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-orc",forcedClass:["partial-accursed"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"half-elf",classes:["warrior","expert","elementalist","partial-warrior","partial-duelist","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"halfling",forcedClass:["partial-empath"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-elementalist","partial-necromancer","partial-wise"]},{id:"dwarf",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"dwarf-long",classes:["warrior","expert","partial-warrior","partial-expert","partial-priest","partial-rune-guardian","partial-empath"]},{id:"rat",forcedClass:["expert","partial-expert"],classes:["partial-warrior","partial-expert","partial-priest","partial-mage","partial-beast","partial-necromancer"]},{id:"lizard",forcedClass:["partial-beast"],classes:["partial-warrior","partial-expert","partial-priest","partial-wise"]},{id:"gnome",forcedClass:["elementalist","partial-elementalist"],classes:["elementalist","partial-warrior","partial-expert","partial-duelist"]}],C=[{id:"warrior",title:"Воин",hd:2,ab:10,foci:"+1 Warrior Focus, Killing Blow, Veteran's Luck"},{id:"expert",title:"Эксперт",hd:0,ab:5,foci:"+1 Expert Focus, Masterful Expertise, Quick Learner"},{id:"mage",title:"Кверанский арканист",spells:!0,hd:-1,ab:2,arts:["+2 Арканист","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист","","+1 Арканист"]},{id:"elementalist",title:"Элементалист",spells:!0,hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист","","+1 Элементалист"]},{id:"necromancer",title:"Некромант",spells:!0,hd:-1,ab:2,arts:["+1 Некромант","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант","","+1 Некромант"]},{id:"partial-warrior",partial:!0,title:"Воин",hd:2,ab:10,minAb:7,foci:"+1 Warrior Focus"},{id:"partial-expert",partial:!0,title:"Эксперт",hd:0,ab:5,foci:"+1 Expert Focus, Quick Learner"},{id:"partial-mage",partial:!0,spells:!0,title:"Кверанский арканист",hd:-1,ab:2,arts:["+1 Арканист","+1 Арканист","+1 Арканист","","","+1 Арканист","","","+1 Арканист",""]},{id:"partial-necromancer",partial:!0,spells:!0,title:"Некромант",hd:-1,ab:2,arts:["+1 Некромант","","+1 Некромант","","","+1 Некромант","","","+1 Некромант",""]},{id:"partial-elementalist",partial:!0,spells:!0,title:"Элементалист",hd:-1,ab:2,arts:["Elemental Resilience, Elemental Sparks, +1 Элементалист","","+1 Элементалист","","","+1 Элементалист","","","+1 Элементалист",""]},{id:"partial-accursed",partial:!0,title:"Проклятый",hd:-1,ab:2,arts:["Accursed Blade или Accurded Bolt, +1 Проклятый","+1 Проклятый","","+1 Проклятый","+1 Проклятый","+1 Проклятый","","+1 Проклятый","","+1 Проклятый"]},{id:"partial-beast",partial:!0,title:"Зверь",hd:0,ab:5,arts:["Martial Style, Unarmed Might, Unarmed Defense, +1 Зверь","+1 Зверь","","+1 Зверь","+1 Зверь","+1 Зверь","","+1 Зверь","","+1 Зверь"]},{id:"partial-duelist",partial:!0,title:"Дуэлянт",hd:-1,ab:5,arts:["+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","+1 Дуэлянт","+1 Дуэлянт","","+1 Дуэлянт","","+1 Дуэлянт"]},{id:"partial-empath",partial:!0,title:"Эмпат",hd:0,ab:5,arts:["+1 Эмпат","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат","","+1 Эмпат"]},{id:"partial-priest",partial:!0,title:"Жрец",hd:-1,ab:2,arts:["+1 Жрец","+1 Жрец","","+1 Жрец","+1 Жрец","+1 Жрец","","+1 Жрец","","+1 Жрец"]},{id:"partial-rune-guardian",partial:!0,title:"Рунный защитник",hd:0,ab:10,minAb:7},{id:"partial-wise",partial:!0,title:"Ведун",hd:0,ab:5,arts:["+1 Ведун","+1 Ведун","","+1 Ведун","+1 Ведун","+1 Ведун","","+1 Ведун","","+1 Ведун"]}],F=P;let w=F.race,f=v.find(e=>e.id==w);const B=e=>{const t=e.forcedClass?e.forcedClass:e.classes;return C.filter(s=>t.includes(s.id))},V=e=>C.filter(t=>t.partial).filter(t=>e.classes.includes(t.id));let _=B(f),x=V(f),i=g(void 0),n=g(void 0),R=v.map(e=>e.classes.concat(e.forcedClass)).reduce((e,t)=>e.concat(t),[]).filter(e=>!!e).filter(e=>!C.map(t=>t.id).includes(e)).filter((e,t,s)=>s.indexOf(e)==t).sort();j(F,e=>{w=e.race,f=v.find(t=>t.id==w),_=B(f),x=V(f),i=g(void 0),n=g(void 0)});const A=(e,t)=>!!e&&(!(e!=null&&e.partial)||(e==null?void 0:e.partial)&&(t==null?void 0:t.partial)&&e.id!==t.id),M=(e,t)=>e?e.partial?Math.max(e.hd,t.hd):e.hd:0,$=(e,t)=>{if(!e)return 0;if(!e.partial||e.ab==t.ab)return e.ab;const s=Math.max(e.minAb?e.minAb:e.ab,t.minAb?t.minAb:t.ab),h=Math.max(e.ab,t.ab);return Math.min(s,h)},z=(e,t,s)=>{if(!(t!=null&&t.arts)&&(!t.partial||!(s!=null&&s.arts)))return"";if(!t.partial)return t.arts[e-1];if(!t.arts)return s.arts[e-1];if(!s.arts)return t.arts[e-1];const h=t.arts[e-1],b=s.arts[e-1],y=h.length>0&&b.length>0?", ":"";return h+y+b},Q=(e,t,s)=>Math.max(1,Math.round((t.partial?t.spells&&s.spells?3.8:3:5)*e/10)),T=(e,t,s)=>e==3&&(t!=null&&t.spells)&&(s!=null&&s.spells)?2:e==6&&(t==null?void 0:t.spells)!==(s==null?void 0:s.spells)?3:Math.max(1,Math.round((t.partial?t.spells&&s.spells?4.9:4:5.5)*e/10)),W=(e,t,s)=>{if(!t.partial)switch(e){case 1:return 3;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 12}if(t!=null&&t.spells&&(s!=null&&s.spells))switch(e){case 1:return 3;case 2:return 4;case 3:return 5;case 4:return 6;case 5:return 8;case 6:return 9;case 7:return 10;case 8:return 12;case 9:return 13;case 10:return 15}switch(e){case 1:return 2;case 2:return 3;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 7;case 9:return 8;case 10:return 9}return 0};return(e,t)=>{var s,h,b,y,U,D,H;return u(),o(m,null,[O,a(R).length>0?(u(),o("div",q," He хватает описания классов: "+d(a(R)),1)):p("",!0),r("div",G,[a(_).length?p("",!0):(u(),o("div",I," Нет классов для выбранной культуры "+d(a(w))+". ",1)),a(_).length?(u(),o("div",J,[r("ul",X,[(u(!0),o(m,null,k(a(_).filter(l=>!l.partial),l=>(u(),o("li",{key:l.id},[L(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":[t[0]||(t[0]=c=>E(i)?i.value=c:i=c),t[1]||(t[1]=c=>e.$emit("picked1",a(i)))]},null,8,Y),[[S,a(i)]]),r("label",{for:l.id},d(l.title),9,Z)]))),128)),tt,r("li",null,[r("ul",et,[(u(!0),o(m,null,k(a(_).filter(l=>l.partial),l=>(u(),o("li",{key:l.id},[L(r("input",{type:"radio",id:l.id,value:l,"onUpdate:modelValue":[t[2]||(t[2]=c=>E(i)?i.value=c:i=c),t[3]||(t[3]=c=>e.$emit("picked1",a(i)))]},null,8,at),[[S,a(i)]]),r("label",{for:l.id},d(l.title),9,rt)]))),128))])])])])):p("",!0),a(x).length&&((s=a(i))!=null&&s.partial)?(u(),o("div",lt,[it,r("ul",st,[(u(!0),o(m,null,k(a(x).filter(l=>l.id!=a(i).id),l=>(u(),o("li",{key:l.id},[L(r("input",{type:"radio",id:l.id+2,value:l,"onUpdate:modelValue":[t[4]||(t[4]=c=>E(n)?n.value=c:n=c),t[5]||(t[5]=c=>e.$emit("picked2",a(n)))]},null,8,nt),[[S,a(n)]]),r("label",{for:l.id+2},"+ "+d(l.title),9,ut)]))),128))])])):p("",!0)]),a(i)&&A(a(i),a(n))?(u(),o("div",ot,[r("h3",null,d(a(i).title),1),N(" описание ")])):p("",!0),a(n)&&a(i).partial&&A(a(i),a(n))?(u(),o("div",dt,[r("h3",null,d(a(n).title),1),N(" описание ")])):p("",!0),A(a(i),a(n))?(u(),o("div",ct,[r("h3",null,d(a(i).title)+d(a(i).partial&&a(n)?"/"+a(n).title:"")+" class table",1),r("table",null,[r("thead",null,[r("tr",null,[pt,ht,mt,ft,a(i).arts||(h=a(n))!=null&&h.arts?(u(),o("th",_t,"Arts")):p("",!0)])]),r("tbody",null,[(u(),o(m,null,k(10,l=>{var c;return r("tr",{key:l},[r("td",null,d(l),1),r("td",null,d(l)+"d6"+d(M(a(i),a(n))==0?"":(M(a(i),a(n))>0?"+":"")+l*M(a(i),a(n))),1),r("td",null,"+"+d(Math.floor($(a(i),a(n))*l/10)),1),r("td",null,[l==1?(u(),o("span",bt,"Race Focus, ")):p("",!0),l==1||l==2||l==5||l==7||l==10?(u(),o("span",kt,"+1 Any")):p("",!0)]),a(i).arts||(c=a(n))!=null&&c.arts?(u(),o("td",wt,[r("span",null,d(z(l,a(i),a(n))),1)])):p("",!0)])}),64))])]),(b=a(i))!=null&&b.spells||(y=a(n))!=null&&y.spells?(u(),o("h4",yt,d(a(i).title)+d(a(i).partial&&a(n)?"/"+((U=a(n))==null?void 0:U.title):"")+" spells table",1)):p("",!0),(D=a(i))!=null&&D.spells||(H=a(n))!=null&&H.spells?(u(),o("table",gt,[vt,r("tbody",null,[(u(),o(m,null,k(10,l=>r("tr",{key:l},[r("td",null,d(l),1),r("td",null,d(Q(l,a(i),a(n))),1),r("td",null,d(T(l,a(i),a(n))),1),r("td",null,d(W(l,a(i),a(n))),1)])),64))])])):p("",!0)])):p("",!0)],64)}}},Mt=K(Ct,[["__file","Classes.vue"]]);export{Mt as default};
